{% extends './base.html.twig' %}

{% block body %}
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div style="flex-grow: 1;">
            {#            <h1>UserId: {{ userId }}</h1> #}
            {% if usersName is defined %}
                <div class="welcome-text">
                    <h1>Welcome, {{ usersName }}!</h1>
                </div>
            {% else %}
                <div class="welcome-text">
                    <h1>Welcome!</h1>
                </div>
            {% endif %}
        </div>
        <form class="form" method="get" action="{{ path('logout') }}">
            <button class="alert-btn">Logout</button>
        </form>
    </div>

    <div class="center-content">
        <h2 style="font-family: 'Arial', sans-serif; font-size: 24px;">Date of reservation</h2>
        <form method="get" action="{{ path('booking') }}" style="display: flex;">
            <input class="date" type="date" name="date">
            <button class="alert-btn pick" type="submit">Pick</button>
        </form>
    </div>


    <div style="text-align: center;">
        {% if freeDeskCounts is defined and freeDeskCounts|length > 0 %}
           <h2>Choose a room</h2>
        {% endif %}
        {% if noReservationCount is defined %}
            <p>Free desks at {{ pikedDate }}: {{ noReservationCount }}</p>
        {% endif %}
    </div>


    <div class="room-list">
        <ul>
            <div class="row">
                {% if freeDeskCounts is defined and freeDeskCounts|length > 0 %}
                    {% for room in freeDeskCounts %}
                        <form method="post" action="{{ path('rooms', {'room_id': room.room_id}) }}" class="room-form">
                            <input type="hidden" name="pikedDate" value="{{ pikedDate }}">
                            <button class="room-btn" type="submit">
                            <li class="rooms">
                                <h3>{{ room.room_name }}</h3>
                                (Free Desks: {{ room.free_desk_count }})
                            </li>
                            </button>
                        </form>

                    {% endfor %}
                {% endif %}
            </div>
        </ul>
    </div>



{% endblock %}
